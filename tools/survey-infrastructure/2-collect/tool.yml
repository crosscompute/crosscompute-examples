---
crosscompute: 0.8.4
kind: tool
name: Collect Electricity Infrastructure Surveys
version:
  name: 0.0.4
input:
  variables:
    - id: survey-codes
      view: text
      path: settings.json
  templates:
    - id: standard
      path: input.md
output:
  variables:
    - id: electricity-network
      view: electricity-network
      path: electricity-network.json
    - id: statistics
      view: table
      path: statistics.csv
    - id: electricity-generators
      view: map
      path: electricity-generators.geojson
    - id: electricity-lines
      view: map
      path: electricity-lines.geojson
    - id: electricity-meters
      view: map
      path: electricity-meters.geojson
    - id: electricity-meters-table
      view: table
      path: electricity-meters.csv
  templates:
    - id: standard
      path: output.md
tests:
  - folder: tests/standard
script:
  folder: .
  command: python -c "$(jupyter nbconvert run.ipynb --to script --stdout)"
repository:
  uri: https://github.com/crosscompute/crosscompute-examples
  folder: survey-infrastructure/2 collect
environment: 
  image: docker.io/library/python:slim-buster
  processor: cpu
  memory: tiny
